# ğŸ§ª å¿«é€Ÿæµ‹è¯•æŒ‡å—

## ğŸš€ å¯åŠ¨æ­¥éª¤

### 1. å¯åŠ¨ Bun Server

```bash
# åœ¨ bun-server ç›®å½•ä¸‹
bun run dev
```

æœåŠ¡å™¨å¯åŠ¨åä¼šæ˜¾ç¤º:
```
ğŸ¦Š Server started at http://localhost:3000
```

### 2. è®¿é—®å®¢æˆ·ç«¯

æ‰“å¼€æµè§ˆå™¨è®¿é—®: **http://localhost:3000**

## âœ… å¿«é€Ÿæµ‹è¯•æµç¨‹ (5 åˆ†é’Ÿ)

### Step 1: æ³¨å†Œ/ç™»å½• (30ç§’)

1. é¡µé¢æ‰“å¼€åï¼Œçœ‹åˆ°"æœªç™»å½•"çŠ¶æ€
2. å¯ä»¥ç›´æ¥ä½¿ç”¨é»˜è®¤å‡­æ®ç™»å½•:
   - ç”¨æˆ·å: `admin`
   - å¯†ç : `admin123`
3. ç‚¹å‡»"ç™»å½•"æŒ‰é’®
4. çœ‹åˆ°"å·²ç™»å½•: admin"ï¼Œæ‰€æœ‰åŠŸèƒ½æ¨¡å—è‡ªåŠ¨æ˜¾ç¤º

> ğŸ’¡ å¦‚æœé»˜è®¤ç”¨æˆ·ä¸å­˜åœ¨ï¼Œå…ˆç‚¹å‡»"æ³¨å†Œ"æ ‡ç­¾åˆ›å»º admin ç”¨æˆ·

### Step 2: æµ‹è¯•å¥åº·æ£€æŸ¥ (10ç§’)

æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12)ï¼Œåœ¨ Console ä¸­è¾“å…¥:

```javascript
fetch('http://localhost:3000/api/health').then(r => r.json()).then(console.log)
```

åº”è¯¥çœ‹åˆ°:
```json
{
  "status": "ok",
  "timestamp": "2025-10-06T..."
}
```

### Step 3: æµ‹è¯•é¡¹ç›®ç®¡ç† (1åˆ†é’Ÿ)

1. åœ¨"ğŸ“ é¡¹ç›®ç®¡ç†"åŒºåŸŸï¼Œç‚¹å‡»"åˆ·æ–°é¡¹ç›®åˆ—è¡¨"
2. æŸ¥çœ‹ç°æœ‰çš„ Claude é¡¹ç›®
3. ç‚¹å‡»"åˆ›å»ºé¡¹ç›®"ï¼Œè¾“å…¥ä¸€ä¸ªæµ‹è¯•è·¯å¾„: `/tmp/test-project`
4. æŸ¥çœ‹é¡¹ç›®åˆ—è¡¨ä¸­æ˜¯å¦å‡ºç°æ–°é¡¹ç›®
5. ç‚¹å‡»é¡¹ç›®çš„"æŸ¥çœ‹ä¼šè¯"æŒ‰é’®ï¼Œåœ¨æ—¥å¿—ä¸­æŸ¥çœ‹ä¼šè¯ä¿¡æ¯

### Step 4: æµ‹è¯•æ–‡ä»¶æ“ä½œ (1åˆ†é’Ÿ)

1. åœ¨"ğŸ“„ æ–‡ä»¶æ“ä½œ"åŒºåŸŸ
2. åˆ›å»ºä¸€ä¸ªæµ‹è¯•æ–‡ä»¶:
   ```bash
   # åœ¨ç»ˆç«¯æ‰§è¡Œ
   echo "Hello from Bun Server!" > /tmp/test.txt
   ```
3. åœ¨æ–‡ä»¶è·¯å¾„è¾“å…¥æ¡†è¾“å…¥: `/tmp/test.txt`
4. ç‚¹å‡»"è¯»å–æ–‡ä»¶"ï¼Œåº”è¯¥çœ‹åˆ°æ–‡ä»¶å†…å®¹æ˜¾ç¤ºåœ¨æ–‡æœ¬æ¡†ä¸­
5. ä¿®æ”¹æ–‡æœ¬æ¡†å†…å®¹ï¼Œç‚¹å‡»"ä¿å­˜æ–‡ä»¶"
6. å†æ¬¡ç‚¹å‡»"è¯»å–æ–‡ä»¶"éªŒè¯ä¿®æ”¹

### Step 5: æµ‹è¯• Claude CLI (1åˆ†é’Ÿ)

1. åœ¨"ğŸ¤– Claude CLI"åŒºåŸŸ
2. é¡¹ç›®è·¯å¾„è¾“å…¥: `/tmp/test-project` (æˆ–ä½ çš„å®é™…é¡¹ç›®è·¯å¾„)
3. Claude å‘½ä»¤è¾“å…¥: `hello`
4. ç‚¹å‡»"æ‰§è¡Œå‘½ä»¤"
5. åœ¨è¾“å‡ºåŒºåŸŸæŸ¥çœ‹ Claude çš„å“åº”
6. ç‚¹å‡»"æŸ¥çœ‹æ´»è·ƒä¼šè¯"æŸ¥çœ‹å½“å‰è¿è¡Œçš„ä¼šè¯

> âš ï¸ ç¡®ä¿ä½ çš„ç³»ç»Ÿå·²å®‰è£… Claude CLI: `claude --version`

### Step 6: æµ‹è¯• WebSocket (30ç§’)

1. åœ¨"ğŸ”— WebSocket è¿æ¥"åŒºåŸŸ
2. ç‚¹å‡»"è¿æ¥ WebSocket"
3. çœ‹åˆ°çŠ¶æ€å˜ä¸º"å·²è¿æ¥"(ç»¿è‰²)
4. è§‚å¯Ÿ"æ“ä½œæ—¥å¿—"åŒºåŸŸï¼Œåº”è¯¥çœ‹åˆ°è¿æ¥æˆåŠŸçš„æ—¥å¿—
5. å¦‚æœæœ‰é¡¹ç›®æ–‡ä»¶å˜åŒ–ï¼Œä¼šåœ¨æ¶ˆæ¯åŒºåŸŸçœ‹åˆ°å®æ—¶æ¨é€
6. ç‚¹å‡»"æ–­å¼€è¿æ¥"æµ‹è¯•æ–­å¼€åŠŸèƒ½

### Step 7: æµ‹è¯•éŸ³é¢‘è½¬å½• (1åˆ†é’Ÿï¼Œå¯é€‰)

> âš ï¸ éœ€è¦é…ç½® `OPENAI_API_KEY` ç¯å¢ƒå˜é‡

1. å‡†å¤‡ä¸€ä¸ªéŸ³é¢‘æ–‡ä»¶ (å¦‚å½•éŸ³ã€.mp3 ç­‰)
2. åœ¨"ğŸ¤ éŸ³é¢‘è½¬å½•"åŒºåŸŸç‚¹å‡»"é€‰æ‹©æ–‡ä»¶"
3. é€‰æ‹©è½¬å½•æ¨¡å¼ (é»˜è®¤å³å¯)
4. ç‚¹å‡»"è½¬å½•"æŒ‰é’®
5. ç­‰å¾…å‡ ç§’ï¼ŒæŸ¥çœ‹è½¬å½•ç»“æœ

## ğŸ“Š éªŒè¯ç»“æœ

### æ—¥å¿—æ£€æŸ¥

åœ¨é¡µé¢åº•éƒ¨çš„"ğŸ“‹ æ“ä½œæ—¥å¿—"åŒºåŸŸï¼Œä½ åº”è¯¥çœ‹åˆ°ç±»ä¼¼:

```
[22:30:15] â„¹ï¸ é¡µé¢åŠ è½½å®Œæˆ
[22:30:18] â„¹ï¸ å‘é€è¯·æ±‚: POST /auth/login
[22:30:18] âœ… è¯·æ±‚æˆåŠŸ: /auth/login
[22:30:18] âœ… ç™»å½•æˆåŠŸ: admin
[22:30:20] â„¹ï¸ å‘é€è¯·æ±‚: GET /projects
[22:30:20] âœ… è¯·æ±‚æˆåŠŸ: /projects
[22:30:25] â„¹ï¸ å‘é€è¯·æ±‚: GET /files?path=/tmp/test.txt
[22:30:25] âœ… è¯·æ±‚æˆåŠŸ: /files
[22:30:25] âœ… æ–‡ä»¶è¯»å–æˆåŠŸ: /tmp/test.txt
```

### æµè§ˆå™¨å¼€å‘è€…å·¥å…·æ£€æŸ¥

æ‰“å¼€ F12 å¼€å‘è€…å·¥å…·:

1. **Network æ ‡ç­¾**: æŸ¥çœ‹æ‰€æœ‰ API è¯·æ±‚ï¼Œç¡®ä¿è¿”å› 200 çŠ¶æ€ç 
2. **Console æ ‡ç­¾**: ä¸åº”è¯¥æœ‰çº¢è‰²é”™è¯¯ä¿¡æ¯
3. **Application > LocalStorage**: åº”è¯¥çœ‹åˆ° `authToken` å·²ä¿å­˜
4. **WebSocket æ ‡ç­¾**: æŸ¥çœ‹ WebSocket è¿æ¥å’Œæ¶ˆæ¯

## ğŸ¯ API è¦†ç›–ç‡

æµ‹è¯•å®Œæˆåï¼Œä½ å·²ç»éªŒè¯äº†ä»¥ä¸‹ API:

- âœ… `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- âœ… `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- âœ… `GET /api/auth/status` - è®¤è¯çŠ¶æ€
- âœ… `GET /api/health` - å¥åº·æ£€æŸ¥
- âœ… `GET /api/projects` - é¡¹ç›®åˆ—è¡¨
- âœ… `POST /api/projects/create` - åˆ›å»ºé¡¹ç›®
- âœ… `GET /api/projects/:name/sessions` - é¡¹ç›®ä¼šè¯
- âœ… `GET /api/files` - è¯»å–æ–‡ä»¶
- âœ… `PUT /api/files` - ä¿å­˜æ–‡ä»¶
- âœ… `POST /api/claude/spawn` - æ‰§è¡Œ Claude å‘½ä»¤
- âœ… `GET /api/claude/sessions` - æ´»è·ƒä¼šè¯
- âœ… `WS /api/ws` - WebSocket è¿æ¥
- â¸ï¸ `POST /api/transcribe` - éŸ³é¢‘è½¬å½• (éœ€è¦ API key)

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜: é¡µé¢æ˜¾ç¤º 404

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®è®¤æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ: `bun run dev`
2. æ£€æŸ¥ç«¯å£æ˜¯å¦æ­£ç¡®: http://localhost:3000
3. æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯

### é—®é¢˜: ç™»å½•å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
1. å…ˆæ³¨å†Œä¸€ä¸ªæ–°ç”¨æˆ·
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰ CORS é”™è¯¯
3. ç¡®è®¤æœåŠ¡å™¨å·²å¯ç”¨ CORS: `server.ts` ä¸­æœ‰ `.use(cors())`

### é—®é¢˜: é¡¹ç›®åˆ—è¡¨ä¸ºç©º

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®è®¤ `~/.claude/projects/` ç›®å½•å­˜åœ¨
2. æ£€æŸ¥æ˜¯å¦æœ‰ Claude é¡¹ç›®
3. å°è¯•æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªé¡¹ç›®

### é—®é¢˜: WebSocket è¿æ¥å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®è®¤å·²ç™»å½•å¹¶æœ‰æœ‰æ•ˆ token
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„ WebSocket é”™è¯¯
3. ç¡®è®¤æœåŠ¡å™¨æ”¯æŒ WebSocket è·¯ç”±

### é—®é¢˜: Claude CLI æ‰§è¡Œå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®è®¤å·²å®‰è£… Claude CLI: `which claude`
2. æ£€æŸ¥é¡¹ç›®è·¯å¾„æ˜¯å¦æ­£ç¡®
3. æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯

## ğŸ“š è¿›é˜¶æµ‹è¯•

### ä½¿ç”¨ Swagger UI

è®¿é—®: **http://localhost:3000/swagger**

Swagger UI æä¾›äº†å®Œæ•´çš„ API æ–‡æ¡£å’Œåœ¨çº¿æµ‹è¯•å·¥å…·:

1. ç‚¹å‡»å³ä¸Šè§’"Authorize"æŒ‰é’®
2. è¾“å…¥ Bearer token (ä» localStorage è·å–)
3. æµ‹è¯•ä»»æ„ API ç«¯ç‚¹

### ä½¿ç”¨ curl æµ‹è¯•

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:3000/api/health

# ç™»å½•è·å– token
TOKEN=$(curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}' | jq -r .token)

# è·å–é¡¹ç›®åˆ—è¡¨
curl -H "Authorization: Bearer $TOKEN" \
  http://localhost:3000/api/projects
```

## ğŸ‰ æµ‹è¯•å®Œæˆ

å¦‚æœæ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡ï¼Œæ­å–œï¼ä½ çš„ Bun Server å·²ç»å®Œå…¨å°±ç»ªï¼

**ä¸‹ä¸€æ­¥**:
- é›†æˆåˆ°å®é™…é¡¹ç›®ä¸­
- æ·»åŠ æ›´å¤šè‡ªå®šä¹‰åŠŸèƒ½
- ä¼˜åŒ–æ€§èƒ½å’Œé”™è¯¯å¤„ç†
- éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

---

**Happy Testing!** ğŸš€
